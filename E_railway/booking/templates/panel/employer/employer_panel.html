{% extends 'panel/base/base_employer.html' %}
{% load static %}

{% block title %}
    E-Railway - Employer Dashboard
{% endblock %}

{% block stylesheet %}
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css"/>
{% endblock %}

{% block content %}
<div class="bg-gray-100 min-h-screen">
    <div class="container mx-auto px-4 py-8">
        <h1 class="text-4xl font-bold text-blue-800 mb-4 animate__animated animate__fadeInDown">Welcome {{ user.username }} to Your E-Railway Dashboard</h1>
        <p class="text-xl text-gray-600 mb-8 animate__animated animate__fadeInUp">Manage ticket sales, reservations, and train schedules effectively for Camrail in Cameroon.</p>

        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
            <!-- Ticket Verification -->
            <div class="bg-white rounded-lg shadow-lg overflow-hidden transform transition duration-500 hover:scale-105">
                <div class="bg-blue-600 text-white px-4 py-2">
                    <h2 class="text-xl font-semibold"><i class="fas fa-check-circle mr-2"></i>Ticket Verification</h2>
                </div>
                <div class="p-4">
                    <p class="text-gray-700 mb-4">Verify ticket status and authenticity quickly and efficiently.</p>
                    <button id="verifyTicketBtn" class="bg-blue-500 hover:bg-blue-600 text-white font-bold py-2 px-4 rounded">
                        Verify Ticket
                    </button>
                </div>
            </div>

            <!-- Reservation Management -->
            <div class="bg-white rounded-lg shadow-lg overflow-hidden transform transition duration-500 hover:scale-105">
                <div class="bg-green-600 text-white px-4 py-2">
                    <h2 class="text-xl font-semibold"><i class="fas fa-calendar-alt mr-2"></i>Reservation Management</h2>
                </div>
                <div class="p-4">
                    <p class="text-gray-700 mb-4">Manage and cancel reservations as needed.</p>
                    <button id="manageReservationsBtn" class="bg-green-500 hover:bg-green-600 text-white font-bold py-2 px-4 rounded">
                        Manage Reservations
                    </button>
                </div>
            </div>

            <!-- Notifications -->
            <div class="bg-white rounded-lg shadow-lg overflow-hidden transform transition duration-500 hover:scale-105">
                <div class="bg-yellow-600 text-white px-4 py-2">
                    <h2 class="text-xl font-semibold"><i class="fas fa-bell mr-2"></i>Notifications</h2>
                </div>
                <div class="p-4">
                    <p class="text-gray-700 mb-4">Receive important updates and notifications from admin.</p>
                    <button id="viewNotificationsBtn" class="bg-yellow-500 hover:bg-yellow-600 text-white font-bold py-2 px-4 rounded">
                        View Notifications
                    </button>
                </div>
            </div>

            <!-- Schedule Management -->
            <div class="bg-white rounded-lg shadow-lg overflow-hidden transform transition duration-500 hover:scale-105">
                <div class="bg-purple-600 text-white px-4 py-2">
                    <h2 class="text-xl font-semibold"><i class="fas fa-clock mr-2"></i>Schedule Management</h2>
                </div>
                <div class="p-4">
                    <p class="text-gray-700 mb-4">View and update train schedules for optimal service.</p>
                    <button id="manageScheduleBtn" class="bg-purple-500 hover:bg-purple-600 text-white font-bold py-2 px-4 rounded">
                        Manage Schedule
                    </button>
                </div>
            </div>

            <!-- Reports -->
            <div class="bg-white rounded-lg shadow-lg overflow-hidden transform transition duration-500 hover:scale-105">
                <div class="bg-red-600 text-white px-4 py-2">
                    <h2 class="text-xl font-semibold"><i class="fas fa-chart-bar mr-2"></i>Reports</h2>
                </div>
                <div class="p-4">
                    <p class="text-gray-700 mb-4">Generate and view reports on ticket sales and reservations.</p>
                    <button id="generateReportBtn" class="bg-red-500 hover:bg-red-600 text-white font-bold py-2 px-4 rounded">
                        Generate Report
                    </button>
                </div>
            </div>

            <!-- Customer Support -->
            <div class="bg-white rounded-lg shadow-lg overflow-hidden transform transition duration-500 hover:scale-105">
                <div class="bg-indigo-600 text-white px-4 py-2">
                    <h2 class="text-xl font-semibold"><i class="fas fa-headset mr-2"></i>Customer Support</h2>
                </div>
                <div class="p-4">
                    <p class="text-gray-700 mb-4">Access tools to provide excellent customer support.</p>
                    <button id="customerSupportBtn" class="bg-indigo-500 hover:bg-indigo-600 text-white font-bold py-2 px-4 rounded">
                        Support Tools
                    </button>
                </div>
            </div>
        </div>

        <!-- Quick Stats -->
        <div class="mt-12 bg-white rounded-lg shadow-lg p-6">
            <h2 class="text-2xl font-bold text-gray-800 mb-4">Quick Stats</h2>
            <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
                <div class="bg-blue-100 rounded-lg p-4">
                    <h3 class="text-lg font-semibold text-blue-800">Today's Ticket Sales</h3>
                    <p class="text-3xl font-bold text-blue-600" id="todayTicketSales">Loading...</p>
                </div>
                <div class="bg-green-100 rounded-lg p-4">
                    <h3 class="text-lg font-semibold text-green-800">Active Reservations</h3>
                    <p class="text-3xl font-bold text-green-600" id="activeReservations">Loading...</p>
                </div>
                <div class="bg-yellow-100 rounded-lg p-4">
                    <h3 class="text-lg font-semibold text-yellow-800">Trains on Schedule</h3>
                    <p class="text-3xl font-bold text-yellow-600" id="trainsOnSchedule">Loading...</p>
                </div>
            </div>
        </div>

        <!-- Recent Activity -->
        <div class="mt-12 bg-white rounded-lg shadow-lg p-6">
            <h2 class="text-2xl font-bold text-gray-800 mb-4">Recent Activity</h2>
            <ul class="divide-y divide-gray-200" id="recentActivityList">
                <li class="py-3">Loading recent activities...</li>
            </ul>
        </div>
    </div>
</div>
{% endblock %}

{% block script %}
<script>
    // Simulate loading data
    setTimeout(() => {
        document.getElementById('todayTicketSales').textContent = '1,234';
        document.getElementById('activeReservations').textContent = '567';
        document.getElementById('trainsOnSchedule').textContent = '42';

        const recentActivities = [
            'Ticket #12345 verified at 14:30',
            'Reservation #67890 cancelled at 13:45',
            'New schedule update received at 12:15',
            'Generated monthly sales report at 11:00'
        ];

        const recentActivityList = document.getElementById('recentActivityList');
        recentActivityList.innerHTML = recentActivities.map(activity => `<li class="py-3">${activity}</li>`).join('');
    }, 1000);

    // Button click handlers
    document.getElementById('verifyTicketBtn').addEventListener('click', () => {
        alert('Ticket verification module opened');
    });

    document.getElementById('manageReservationsBtn').addEventListener('click', () => {
        alert('Reservation management module opened');
    });

    document.getElementById('viewNotificationsBtn').addEventListener('click', () => {
        alert('Notifications panel opened');
    });

    document.getElementById('manageScheduleBtn').addEventListener('click', () => {
        alert('Schedule management module opened');
    });

    document.getElementById('generateReportBtn').addEventListener('click', () => {
        alert('Report generation started');
    });

    document.getElementById('customerSupportBtn').addEventListener('click', () => {
        alert('Customer support tools opened');
    });

    // Add smooth scrolling
    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener('click', function (e) {
            e.preventDefault();
            document.querySelector(this.getAttribute('href')).scrollIntoView({
                behavior: 'smooth'
            });
        });
    });
</script>
{% endblock %}